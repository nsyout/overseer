{
  "version": 3,
  "sources": ["../src/api/index.ts", "../src/api/app.ts", "../src/api/routes/tasks.ts", "../src/api/cli.ts", "../src/types.ts", "../src/decoder.ts"],
  "sourcesContent": ["import { serve } from \"@hono/node-server\";\nimport { createApp } from \"./app.js\";\n\nexport type { AppType } from \"./app.js\";\n\nconst PORT =\n  process.env.PORT === undefined\n    ? 6969\n    : Number.parseInt(process.env.PORT, 10) || 6969;\n\n// Static root:\n// - Dev: ./dist (vite output, relative to ui/)\n// - Prod: OVERSEER_UI_STATIC_ROOT env var (set by bin/os)\nconst staticRoot = process.env.OVERSEER_UI_STATIC_ROOT ?? \"./dist\";\n\nconst app = createApp(staticRoot);\n\nserve(\n  {\n    fetch: app.fetch,\n    port: PORT,\n  },\n  (info) => {\n    console.log(`Overseer UI: http://localhost:${info.port}`);\n  }\n);\n", "import { Hono } from \"hono\";\nimport { serveStatic } from \"@hono/node-server/serve-static\";\nimport { tasks } from \"./routes/tasks.js\";\n\n/**\n * Create API routes without static file serving.\n * Static serving is configured separately for dev vs prod.\n */\nconst api = new Hono()\n  .get(\"/health\", (c) => {\n    return c.json({ status: \"ok\" });\n  })\n  .route(\"/api/tasks\", tasks)\n  // Catch-all for undefined API routes\n  .all(\"/api/*\", (c) => c.json({ error: \"Not found\" }, 404));\n\n/**\n * Create full app with static file serving.\n * \n * @param staticRoot - Path to static files (relative to cwd).\n *   - Dev: \"./dist\" (relative to ui/)\n *   - Prod: Uses OVERSEER_UI_STATIC_ROOT env var, fallback \"./static\"\n */\nexport function createApp(staticRoot?: string) {\n  const root = staticRoot ?? process.env.OVERSEER_UI_STATIC_ROOT ?? \"./static\";\n  \n  return new Hono()\n    .route(\"/\", api)\n    // Serve static files\n    .use(\"/*\", serveStatic({ root }))\n    // Fallback to index.html for SPA routing\n    .get(\"/*\", serveStatic({ root, path: \"index.html\" }));\n}\n\nexport { api };\n\n// Export AppType based on createApp return type\nexport type AppType = ReturnType<typeof createApp>;\n", "/**\n * Task API routes\n *\n * Note: No task creation in UI (CLI/MCP only)\n * Note: No start operation (complete only via workflow service)\n */\nimport { Hono, type Context } from \"hono\";\nimport type { StatusCode } from \"hono/utils/http-status\";\nimport { callCli } from \"../cli.js\";\nimport {\n  decodeTask,\n  decodeTasks,\n  decodeTaskWithContext,\n  decodeTaskWithContextOrNull,\n  decodeLearnings,\n  decodeUpdateTaskRequest,\n  decodeCompleteTaskRequest,\n} from \"../../decoder.js\";\nimport { CliError, isTaskId, type ApiError } from \"../../types.js\";\n\n/**\n * Handle CLI errors and return appropriate HTTP status\n */\nfunction handleCliError(\n  c: Context,\n  err: unknown\n): Response & { _data: ApiError; _status: StatusCode } {\n  if (err instanceof CliError) {\n    // Map common error messages to status codes\n    const message = err.message.toLowerCase();\n    if (message.includes(\"not found\") || message.includes(\"no task\")) {\n      return c.json({ error: err.message }, 404);\n    }\n    if (\n      message.includes(\"invalid\") ||\n      message.includes(\"validation\") ||\n      message.includes(\"cycle\")\n    ) {\n      return c.json({ error: err.message }, 400);\n    }\n    if (\n      message.includes(\"not a repository\") ||\n      message.includes(\"dirty working copy\")\n    ) {\n      return c.json({ error: err.message, code: \"VCS_ERROR\" }, 400);\n    }\n    // Default to 500 for unknown CLI errors\n    return c.json({ error: err.message }, 500);\n  }\n  // Unknown error\n  const message = err instanceof Error ? err.message : String(err);\n  return c.json({ error: message }, 500);\n}\n\nconst tasks = new Hono()\n  /**\n   * GET /api/tasks\n   * List all tasks with optional filters\n   * Query params: parentId, ready, completed\n   */\n  .get(\"/\", async (c) => {\n    const parentId = c.req.query(\"parentId\");\n    const ready = c.req.query(\"ready\");\n    const completed = c.req.query(\"completed\");\n\n    const args = [\"task\", \"list\"];\n    if (parentId) {\n      if (!isTaskId(parentId)) {\n        return c.json({ error: `Invalid parentId: ${parentId}` }, 400);\n      }\n      args.push(\"--parent\", parentId);\n    }\n    if (ready === \"true\") args.push(\"--ready\");\n    if (completed === \"true\") args.push(\"--completed\");\n\n    try {\n      const result = decodeTasks(await callCli(args)).unwrap(\"GET /api/tasks\");\n      return c.json(result);\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  })\n\n  /**\n   * GET /api/tasks/next-ready\n   * Get next ready task (deepest unblocked incomplete leaf)\n   * Query params: milestoneId\n   */\n  .get(\"/next-ready\", async (c) => {\n    const milestoneId = c.req.query(\"milestoneId\");\n\n    const args = [\"task\", \"next-ready\"];\n    if (milestoneId) {\n      if (!isTaskId(milestoneId)) {\n        return c.json({ error: `Invalid milestoneId: ${milestoneId}` }, 400);\n      }\n      args.push(\"--milestone\", milestoneId);\n    }\n\n    try {\n      const result = decodeTaskWithContextOrNull(await callCli(args)).unwrap(\n        \"GET /api/tasks/next-ready\"\n      );\n      if (result === null) {\n        return c.json(null, 200);\n      }\n      return c.json(result);\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  })\n\n  /**\n   * GET /api/tasks/:id\n   * Get single task with full context chain and inherited learnings\n   */\n  .get(\"/:id\", async (c) => {\n    const id = c.req.param(\"id\");\n    if (!isTaskId(id)) {\n      return c.json({ error: `Invalid task ID: ${id}` }, 400);\n    }\n\n    try {\n      const result = decodeTaskWithContext(await callCli([\"task\", \"get\", id])).unwrap(\n        \"GET /api/tasks/:id\"\n      );\n      return c.json(result);\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  })\n\n  /**\n   * PUT /api/tasks/:id\n   * Update existing task\n   */\n  .put(\"/:id\", async (c) => {\n    const id = c.req.param(\"id\");\n    if (!isTaskId(id)) {\n      return c.json({ error: `Invalid task ID: ${id}` }, 400);\n    }\n\n    let body;\n    try {\n      body = decodeUpdateTaskRequest(await c.req.json()).unwrap(\n        \"PUT /api/tasks/:id body\"\n      );\n    } catch {\n      return c.json({ error: \"Invalid JSON body\" }, 400);\n    }\n\n    const args = [\"task\", \"update\", id];\n    if (body.description) args.push(\"-d\", body.description);\n    if (body.context) args.push(\"--context\", body.context);\n    if (body.priority) args.push(\"--priority\", String(body.priority));\n\n    // Must have at least one field to update\n    if (args.length === 3) {\n      return c.json({ error: \"No fields to update\" }, 400);\n    }\n\n    try {\n      const result = decodeTask(await callCli(args)).unwrap(\"PUT /api/tasks/:id\");\n      return c.json(result);\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  })\n\n  /**\n   * DELETE /api/tasks/:id\n   * Delete task (cascades to children and learnings)\n   */\n  .delete(\"/:id\", async (c) => {\n    const id = c.req.param(\"id\");\n    if (!isTaskId(id)) {\n      return c.json({ error: `Invalid task ID: ${id}` }, 400);\n    }\n\n    try {\n      await callCli([\"task\", \"delete\", id]);\n      return c.json({ deleted: true });\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  })\n\n  /**\n   * POST /api/tasks/:id/complete\n   * Complete task with optional result and learnings\n   */\n  .post(\"/:id/complete\", async (c) => {\n    const id = c.req.param(\"id\");\n    if (!isTaskId(id)) {\n      return c.json({ error: `Invalid task ID: ${id}` }, 400);\n    }\n\n    let body;\n    try {\n      const text = await c.req.text();\n      if (text) {\n        body = decodeCompleteTaskRequest(JSON.parse(text)).unwrap(\n          \"POST /api/tasks/:id/complete body\"\n        );\n      } else {\n        body = {};\n      }\n    } catch {\n      return c.json({ error: \"Invalid JSON body\" }, 400);\n    }\n\n    const args = [\"task\", \"complete\", id];\n    if (body.result) args.push(\"--result\", body.result);\n    if (body.learnings) {\n      for (const learning of body.learnings) {\n        args.push(\"--learning\", learning);\n      }\n    }\n\n    try {\n      const result = decodeTask(await callCli(args)).unwrap(\"POST /api/tasks/:id/complete\");\n      return c.json(result);\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  })\n\n  /**\n   * POST /api/tasks/:id/reopen\n   * Reopen a completed task\n   */\n  .post(\"/:id/reopen\", async (c) => {\n    const id = c.req.param(\"id\");\n    if (!isTaskId(id)) {\n      return c.json({ error: `Invalid task ID: ${id}` }, 400);\n    }\n\n    try {\n      const result = decodeTask(await callCli([\"task\", \"reopen\", id])).unwrap(\n        \"POST /api/tasks/:id/reopen\"\n      );\n      return c.json(result);\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  })\n\n  /**\n   * GET /api/tasks/:taskId/learnings\n   * List all learnings for a task\n   * Includes learnings bubbled from completed child tasks\n   */\n  .get(\"/:taskId/learnings\", async (c) => {\n    const taskId = c.req.param(\"taskId\");\n    if (!isTaskId(taskId)) {\n      return c.json({ error: `Invalid task ID: ${taskId}` }, 400);\n    }\n\n    try {\n      const result = decodeLearnings(await callCli([\n        \"learning\",\n        \"list\",\n        taskId,\n      ])).unwrap(\"GET /api/tasks/:taskId/learnings\");\n      return c.json(result);\n    } catch (err) {\n      return handleCliError(c, err);\n    }\n  });\n\nexport { tasks };\n", "/**\n * CLI bridge - spawns `os` binary and parses JSON output\n */\nimport { spawn } from \"node:child_process\";\nimport { CliError, CliTimeoutError } from \"../types.js\";\n\nconst CLI_TIMEOUT_MS = 30_000;\n\n// Allow override via env var (useful for tests)\nconst CLI_PATH = process.env.OVERSEER_CLI_PATH ?? \"os\";\nconst CLI_CWD = process.env.OVERSEER_CLI_CWD ?? process.cwd();\n\n/**\n * Execute os CLI command with --json flag\n */\nexport async function callCli(args: string[]): Promise<unknown> {\n  return new Promise((resolve, reject) => {\n    const proc = spawn(CLI_PATH, [...args, \"--json\"], {\n      cwd: CLI_CWD,\n      stdio: [\"ignore\", \"pipe\", \"pipe\"],\n    });\n\n    const timeout = setTimeout(() => {\n      proc.kill(\"SIGTERM\");\n      reject(new CliTimeoutError());\n    }, CLI_TIMEOUT_MS);\n\n    let stdout = \"\";\n    let stderr = \"\";\n\n    proc.stdout.on(\"data\", (chunk: Buffer) => {\n      stdout += chunk.toString();\n    });\n\n    proc.stderr.on(\"data\", (chunk: Buffer) => {\n      stderr += chunk.toString();\n    });\n\n    proc.on(\"error\", (err) => {\n      clearTimeout(timeout);\n      reject(new CliError(`Failed to spawn os: ${err.message}`, -1, \"\"));\n    });\n\n    proc.on(\"close\", (code) => {\n      clearTimeout(timeout);\n\n      if (code !== 0) {\n        const message = stderr.trim() || `os exited with code ${code}`;\n        reject(new CliError(message, code ?? -1, stderr));\n        return;\n      }\n\n      try {\n        const result: unknown = JSON.parse(stdout);\n        resolve(result);\n      } catch (err) {\n        reject(\n          new CliError(\n            `Invalid JSON from os: ${err instanceof Error ? err.message : String(err)}`,\n            0,\n            stdout\n          )\n        );\n      }\n    });\n  });\n}\n", "/**\n * Shared types for Overseer UI API\n * Mirrors mcp/src/types.ts (camelCase from Rust serde)\n */\n\n// Branded types for type-safe IDs\ndeclare const TaskIdBrand: unique symbol;\ndeclare const LearningIdBrand: unique symbol;\n\nexport type TaskId = string & { readonly [TaskIdBrand]: never };\nexport type LearningId = string & { readonly [LearningIdBrand]: never };\n\n// Validation helpers\nexport function isTaskId(s: string): s is TaskId {\n  return s.startsWith(\"task_\") && s.length === 31; // \"task_\" + 26 ULID chars\n}\n\nexport function isLearningId(s: string): s is LearningId {\n  return s.startsWith(\"lrn_\") && s.length === 30; // \"lrn_\" + 26 ULID chars\n}\n\nexport function parseTaskId(s: string): TaskId {\n  if (!isTaskId(s)) {\n    throw new Error(`Invalid TaskId: ${s}`);\n  }\n  return s;\n}\n\nexport function parseLearningId(s: string): LearningId {\n  if (!isLearningId(s)) {\n    throw new Error(`Invalid LearningId: ${s}`);\n  }\n  return s;\n}\n\n/**\n * Task context chain (inherited from hierarchy)\n */\nexport interface TaskContext {\n  own: string;\n  parent?: string;\n  milestone?: string;\n}\n\n/**\n * Inherited learnings (own task + ancestors)\n */\nexport interface InheritedLearnings {\n  /** Learnings attached directly to this task (bubbled from completed children) */\n  own: Learning[];\n  /** Learnings from parent task (depth > 0) */\n  parent: Learning[];\n  /** Learnings from root milestone (depth > 1) */\n  milestone: Learning[];\n}\n\n/**\n * Priority levels (enforced by Rust, 1-5)\n */\nexport type Priority = 1 | 2 | 3 | 4 | 5;\n\n/**\n * Task depth (0=milestone, 1=task, 2=subtask)\n */\nexport type Depth = 0 | 1 | 2;\n\n/**\n * Task returned from list/create/update/start/complete/reopen\n * Does NOT include context chain or inherited learnings\n */\nexport interface Task {\n  id: TaskId;\n  parentId: TaskId | null;\n  description: string;\n  priority: Priority;\n  completed: boolean;\n  completedAt: string | null;\n  startedAt: string | null;\n  createdAt: string;\n  updatedAt: string;\n  result: string | null;\n  commitSha: string | null;\n  depth: Depth;\n  blockedBy?: TaskId[];\n  blocks?: TaskId[];\n  bookmark?: string;\n  startCommit?: string;\n  /** Computed: true if task or any ancestor has incomplete blockers */\n  effectivelyBlocked: boolean;\n}\n\n/**\n * Task returned from get/nextReady - includes context chain and inherited learnings\n */\nexport interface TaskWithContext extends Task {\n  context: TaskContext;\n  learnings: InheritedLearnings;\n}\n\nexport interface Learning {\n  id: LearningId;\n  taskId: TaskId;\n  content: string;\n  sourceTaskId: TaskId | null;\n  createdAt: string;\n}\n\n/**\n * CLI command errors\n */\nexport class CliError extends Error {\n  constructor(\n    message: string,\n    public exitCode: number,\n    public stderr: string\n  ) {\n    super(message);\n    this.name = \"CliError\";\n  }\n}\n\nexport class CliTimeoutError extends Error {\n  constructor(message = \"CLI command timeout (30s)\") {\n    super(message);\n    this.name = \"CliTimeoutError\";\n  }\n}\n\n// Request/Response types for API\n\nexport interface UpdateTaskRequest {\n  description?: string;\n  context?: string;\n  priority?: Priority;\n}\n\nexport interface CompleteTaskRequest {\n  result?: string;\n  learnings?: string[];\n}\n\nexport interface TaskFilter {\n  parentId?: string;\n  ready?: boolean;\n  completed?: boolean;\n}\n\nexport interface ApiError {\n  error: string;\n  code?: string;\n}\n", "/**\n * Runtime decoders for CLI JSON output.\n * Validates structure matches expected types at runtime.\n */\nimport { Result, TaggedError } from \"better-result\";\nimport {\n  isTaskId,\n  isLearningId,\n  type Task,\n  type TaskWithContext,\n  type Learning,\n  type TaskId,\n  type LearningId,\n  type Priority,\n  type Depth,\n  type TaskContext,\n  type InheritedLearnings,\n  type UpdateTaskRequest,\n  type CompleteTaskRequest,\n} from \"./types.js\";\n\n/**\n * Decode error with path context\n */\nexport class DecodeError extends TaggedError(\"DecodeError\")<{\n  message: string;\n  path?: string;\n}>() {}\n\n// Helper to check if value is a plain object\nfunction isObject(v: unknown): v is Record<string, unknown> {\n  return typeof v === \"object\" && v !== null && !Array.isArray(v);\n}\n\n// Helper to check if value is string\nfunction isString(v: unknown): v is string {\n  return typeof v === \"string\";\n}\n\n// Helper to check if value is boolean\nfunction isBoolean(v: unknown): v is boolean {\n  return typeof v === \"boolean\";\n}\n\n// Helper to check if value is number\nfunction isNumber(v: unknown): v is number {\n  return typeof v === \"number\";\n}\n\n// Helper to check valid priority\nfunction isPriority(v: unknown): v is Priority {\n  return isNumber(v) && v >= 1 && v <= 5 && Number.isInteger(v);\n}\n\n// Helper to check valid depth\nfunction isDepth(v: unknown): v is Depth {\n  return v === 0 || v === 1 || v === 2;\n}\n\n/**\n * Decode a Learning from unknown JSON\n */\nexport function decodeLearning(v: unknown): Result<Learning, DecodeError> {\n  if (!isObject(v)) {\n    return Result.err(new DecodeError({ message: \"Learning must be object\" }));\n  }\n\n  const { id, taskId, content, sourceTaskId, createdAt } = v;\n\n  if (!isString(id) || !isLearningId(id)) {\n    return Result.err(new DecodeError({ message: `Invalid learning id: ${id}` }));\n  }\n  if (!isString(taskId) || !isTaskId(taskId)) {\n    return Result.err(new DecodeError({ message: `Invalid learning taskId: ${taskId}` }));\n  }\n  if (!isString(content)) {\n    return Result.err(new DecodeError({ message: \"Learning content must be string\" }));\n  }\n  if (sourceTaskId !== null && (!isString(sourceTaskId) || !isTaskId(sourceTaskId))) {\n    return Result.err(new DecodeError({ message: `Invalid learning sourceTaskId: ${sourceTaskId}` }));\n  }\n  if (!isString(createdAt)) {\n    return Result.err(new DecodeError({ message: \"Learning createdAt must be string\" }));\n  }\n\n  return Result.ok({\n    id: id as LearningId,\n    taskId: taskId as TaskId,\n    content,\n    sourceTaskId: sourceTaskId as TaskId | null,\n    createdAt,\n  });\n}\n\n/**\n * Decode a Learning array\n */\nexport function decodeLearnings(v: unknown): Result<Learning[], DecodeError> {\n  if (!Array.isArray(v)) {\n    return Result.err(new DecodeError({ message: \"Learnings must be array\" }));\n  }\n\n  const learnings: Learning[] = [];\n  for (let i = 0; i < v.length; i++) {\n    const result = decodeLearning(v[i]);\n    if (result.isErr()) {\n      return Result.err(new DecodeError({ \n        message: result.error.message, \n        path: `learnings[${i}]` \n      }));\n    }\n    learnings.push(result.value);\n  }\n  return Result.ok(learnings);\n}\n\n/**\n * Decode a Task from unknown JSON\n */\nexport function decodeTask(v: unknown): Result<Task, DecodeError> {\n  if (!isObject(v)) {\n    return Result.err(new DecodeError({ message: \"Task must be object\" }));\n  }\n\n  const {\n    id,\n    parentId,\n    description,\n    priority,\n    completed,\n    completedAt,\n    startedAt,\n    createdAt,\n    updatedAt,\n    result,\n    commitSha,\n    depth,\n    blockedBy,\n    blocks,\n    bookmark,\n    startCommit,\n    effectivelyBlocked,\n  } = v;\n\n  // Required fields\n  if (!isString(id) || !isTaskId(id)) {\n    return Result.err(new DecodeError({ message: `Invalid task id: ${id}` }));\n  }\n  if (parentId !== null && (!isString(parentId) || !isTaskId(parentId))) {\n    return Result.err(new DecodeError({ message: `Invalid task parentId: ${parentId}` }));\n  }\n  if (!isString(description)) {\n    return Result.err(new DecodeError({ message: \"Task description must be string\" }));\n  }\n  if (!isPriority(priority)) {\n    return Result.err(new DecodeError({ message: `Invalid task priority: ${priority}` }));\n  }\n  if (!isBoolean(completed)) {\n    return Result.err(new DecodeError({ message: \"Task completed must be boolean\" }));\n  }\n  if (completedAt !== null && !isString(completedAt)) {\n    return Result.err(new DecodeError({ message: \"Task completedAt must be string or null\" }));\n  }\n  if (startedAt !== null && !isString(startedAt)) {\n    return Result.err(new DecodeError({ message: \"Task startedAt must be string or null\" }));\n  }\n  if (!isString(createdAt)) {\n    return Result.err(new DecodeError({ message: \"Task createdAt must be string\" }));\n  }\n  if (!isString(updatedAt)) {\n    return Result.err(new DecodeError({ message: \"Task updatedAt must be string\" }));\n  }\n  if (result !== null && !isString(result)) {\n    return Result.err(new DecodeError({ message: \"Task result must be string or null\" }));\n  }\n  if (commitSha !== null && !isString(commitSha)) {\n    return Result.err(new DecodeError({ message: \"Task commitSha must be string or null\" }));\n  }\n  if (!isDepth(depth)) {\n    return Result.err(new DecodeError({ message: `Invalid task depth: ${depth}` }));\n  }\n  if (!isBoolean(effectivelyBlocked)) {\n    return Result.err(new DecodeError({ message: \"Task effectivelyBlocked must be boolean\" }));\n  }\n\n  // Optional array fields\n  let decodedBlockedBy: TaskId[] | undefined;\n  if (blockedBy !== undefined) {\n    if (!Array.isArray(blockedBy)) {\n      return Result.err(new DecodeError({ message: \"Task blockedBy must be array\" }));\n    }\n    decodedBlockedBy = [];\n    for (const bid of blockedBy) {\n      if (!isString(bid) || !isTaskId(bid)) {\n        return Result.err(new DecodeError({ message: `Invalid blocker id: ${bid}` }));\n      }\n      decodedBlockedBy.push(bid as TaskId);\n    }\n  }\n\n  let decodedBlocks: TaskId[] | undefined;\n  if (blocks !== undefined) {\n    if (!Array.isArray(blocks)) {\n      return Result.err(new DecodeError({ message: \"Task blocks must be array\" }));\n    }\n    decodedBlocks = [];\n    for (const bid of blocks) {\n      if (!isString(bid) || !isTaskId(bid)) {\n        return Result.err(new DecodeError({ message: `Invalid blocks id: ${bid}` }));\n      }\n      decodedBlocks.push(bid as TaskId);\n    }\n  }\n\n  // Optional string fields\n  if (bookmark !== undefined && !isString(bookmark)) {\n    return Result.err(new DecodeError({ message: \"Task bookmark must be string\" }));\n  }\n  if (startCommit !== undefined && !isString(startCommit)) {\n    return Result.err(new DecodeError({ message: \"Task startCommit must be string\" }));\n  }\n\n  const task: Task = {\n    id: id as TaskId,\n    parentId: parentId as TaskId | null,\n    description,\n    priority: priority as Priority,\n    completed,\n    completedAt: completedAt as string | null,\n    startedAt: startedAt as string | null,\n    createdAt,\n    updatedAt,\n    result: result as string | null,\n    commitSha: commitSha as string | null,\n    depth: depth as Depth,\n    effectivelyBlocked,\n  };\n\n  if (decodedBlockedBy) task.blockedBy = decodedBlockedBy;\n  if (decodedBlocks) task.blocks = decodedBlocks;\n  if (bookmark !== undefined) task.bookmark = bookmark as string;\n  if (startCommit !== undefined) task.startCommit = startCommit as string;\n\n  return Result.ok(task);\n}\n\n/**\n * Decode a Task array\n */\nexport function decodeTasks(v: unknown): Result<Task[], DecodeError> {\n  if (!Array.isArray(v)) {\n    return Result.err(new DecodeError({ message: \"Tasks must be array\" }));\n  }\n\n  const tasks: Task[] = [];\n  for (let i = 0; i < v.length; i++) {\n    const result = decodeTask(v[i]);\n    if (result.isErr()) {\n      return Result.err(new DecodeError({ \n        message: result.error.message, \n        path: `tasks[${i}]` \n      }));\n    }\n    tasks.push(result.value);\n  }\n  return Result.ok(tasks);\n}\n\n/**\n * Decode TaskContext from unknown JSON\n */\nfunction decodeTaskContext(v: unknown): Result<TaskContext, DecodeError> {\n  if (!isObject(v)) {\n    return Result.err(new DecodeError({ message: \"TaskContext must be object\" }));\n  }\n\n  const { own, parent, milestone } = v;\n\n  if (!isString(own)) {\n    return Result.err(new DecodeError({ message: \"TaskContext.own must be string\" }));\n  }\n  if (parent !== undefined && !isString(parent)) {\n    return Result.err(new DecodeError({ message: \"TaskContext.parent must be string\" }));\n  }\n  if (milestone !== undefined && !isString(milestone)) {\n    return Result.err(new DecodeError({ message: \"TaskContext.milestone must be string\" }));\n  }\n\n  const ctx: TaskContext = { own };\n  if (parent !== undefined) ctx.parent = parent;\n  if (milestone !== undefined) ctx.milestone = milestone;\n  return Result.ok(ctx);\n}\n\n/**\n * Decode InheritedLearnings from unknown JSON\n */\nfunction decodeInheritedLearnings(v: unknown): Result<InheritedLearnings, DecodeError> {\n  if (!isObject(v)) {\n    return Result.err(new DecodeError({ message: \"InheritedLearnings must be object\" }));\n  }\n\n  const { own, parent, milestone } = v;\n\n  // All fields should be arrays (possibly empty due to skip_serializing_if)\n  const ownResult = decodeLearnings(own ?? []);\n  if (ownResult.isErr()) {\n    return Result.err(new DecodeError({ message: ownResult.error.message, path: \"learnings.own\" }));\n  }\n\n  const parentResult = decodeLearnings(parent ?? []);\n  if (parentResult.isErr()) {\n    return Result.err(new DecodeError({ message: parentResult.error.message, path: \"learnings.parent\" }));\n  }\n\n  const milestoneResult = decodeLearnings(milestone ?? []);\n  if (milestoneResult.isErr()) {\n    return Result.err(new DecodeError({ message: milestoneResult.error.message, path: \"learnings.milestone\" }));\n  }\n\n  return Result.ok({\n    own: ownResult.value,\n    parent: parentResult.value,\n    milestone: milestoneResult.value,\n  });\n}\n\n/**\n * Decode TaskWithContext from unknown JSON\n */\nexport function decodeTaskWithContext(v: unknown): Result<TaskWithContext, DecodeError> {\n  if (!isObject(v)) {\n    return Result.err(new DecodeError({ message: \"TaskWithContext must be object\" }));\n  }\n\n  // First decode the base task fields\n  const taskResult = decodeTask(v);\n  if (taskResult.isErr()) return taskResult;\n\n  // Then decode context and learnings\n  const { context, learnings } = v;\n\n  const ctxResult = decodeTaskContext(context);\n  if (ctxResult.isErr()) {\n    return Result.err(new DecodeError({ message: ctxResult.error.message, path: \"context\" }));\n  }\n\n  const lrnResult = decodeInheritedLearnings(learnings);\n  if (lrnResult.isErr()) {\n    return Result.err(new DecodeError({ message: lrnResult.error.message, path: \"learnings\" }));\n  }\n\n  return Result.ok({\n    ...taskResult.value,\n    context: ctxResult.value,\n    learnings: lrnResult.value,\n  });\n}\n\n/**\n * Decode nullable TaskWithContext (for nextReady)\n */\nexport function decodeTaskWithContextOrNull(\n  v: unknown\n): Result<TaskWithContext | null, DecodeError> {\n  if (v === null) return Result.ok(null);\n  return decodeTaskWithContext(v);\n}\n\n/**\n * Decode UpdateTaskRequest from request body\n */\nexport function decodeUpdateTaskRequest(v: unknown): Result<UpdateTaskRequest, DecodeError> {\n  if (!isObject(v)) {\n    return Result.err(new DecodeError({ message: \"UpdateTaskRequest must be object\" }));\n  }\n\n  const { description, context, priority } = v;\n\n  const req: UpdateTaskRequest = {};\n\n  if (description !== undefined) {\n    if (!isString(description)) {\n      return Result.err(new DecodeError({ message: \"description must be string\" }));\n    }\n    req.description = description;\n  }\n  if (context !== undefined) {\n    if (!isString(context)) {\n      return Result.err(new DecodeError({ message: \"context must be string\" }));\n    }\n    req.context = context;\n  }\n  if (priority !== undefined) {\n    if (!isPriority(priority)) {\n      return Result.err(new DecodeError({ message: `Invalid priority: ${priority}` }));\n    }\n    req.priority = priority;\n  }\n\n  return Result.ok(req);\n}\n\n/**\n * Decode CompleteTaskRequest from request body\n */\nexport function decodeCompleteTaskRequest(v: unknown): Result<CompleteTaskRequest, DecodeError> {\n  if (!isObject(v)) {\n    return Result.err(new DecodeError({ message: \"CompleteTaskRequest must be object\" }));\n  }\n\n  const { result, learnings } = v;\n\n  const req: CompleteTaskRequest = {};\n\n  if (result !== undefined) {\n    if (!isString(result)) {\n      return Result.err(new DecodeError({ message: \"result must be string\" }));\n    }\n    req.result = result;\n  }\n  if (learnings !== undefined) {\n    if (!Array.isArray(learnings)) {\n      return Result.err(new DecodeError({ message: \"learnings must be array\" }));\n    }\n    for (let i = 0; i < learnings.length; i++) {\n      if (!isString(learnings[i])) {\n        return Result.err(new DecodeError({ message: `learnings[${i}] must be string` }));\n      }\n    }\n    req.learnings = learnings as string[];\n  }\n\n  return Result.ok(req);\n}\n"],
  "mappings": "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",
  "names": ["serve", "Hono", "serveStatic", "Hono", "spawn", "isTaskId", "s", "isLearningId", "CliError", "message", "exitCode", "stderr", "CliTimeoutError", "CLI_TIMEOUT_MS", "CLI_PATH", "CLI_CWD", "callCli", "args", "resolve", "reject", "proc", "spawn", "timeout", "CliTimeoutError", "stdout", "stderr", "chunk", "err", "CliError", "code", "message", "result", "Result", "TaggedError", "DecodeError", "TaggedError", "isObject", "v", "isString", "isBoolean", "isNumber", "isPriority", "isDepth", "decodeLearning", "Result", "id", "taskId", "content", "sourceTaskId", "createdAt", "isLearningId", "isTaskId", "decodeLearnings", "learnings", "i", "result", "decodeTask", "parentId", "description", "priority", "completed", "completedAt", "startedAt", "updatedAt", "commitSha", "depth", "blockedBy", "blocks", "bookmark", "startCommit", "effectivelyBlocked", "decodedBlockedBy", "bid", "decodedBlocks", "task", "decodeTasks", "tasks", "decodeTaskContext", "own", "parent", "milestone", "ctx", "decodeInheritedLearnings", "ownResult", "parentResult", "milestoneResult", "decodeTaskWithContext", "taskResult", "context", "ctxResult", "lrnResult", "decodeTaskWithContextOrNull", "decodeUpdateTaskRequest", "req", "decodeCompleteTaskRequest", "handleCliError", "c", "err", "CliError", "message", "tasks", "Hono", "parentId", "ready", "completed", "args", "isTaskId", "result", "decodeTasks", "callCli", "milestoneId", "decodeTaskWithContextOrNull", "id", "decodeTaskWithContext", "body", "decodeUpdateTaskRequest", "decodeTask", "text", "decodeCompleteTaskRequest", "learning", "taskId", "decodeLearnings", "api", "Hono", "c", "tasks", "createApp", "staticRoot", "root", "serveStatic", "PORT", "staticRoot", "app", "createApp", "serve", "info"]
}
